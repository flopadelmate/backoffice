{
    "runId": "f47ac10b-58cc-4372-a567-0e02b2c3d479",
    "executionTime": "2025-12-15T15:00:00Z",
    "durationMs": 847,
    "summary": {
      "groupsProcessed": 8,
      "matchesCreated": 2,
      "playersMatched": 8,
      "playersUnmatched": 3,
      "groupsExpired": 1
    },
    "phases": [
      {
        "name": "EXPIRATION",
        "durationMs": 12,
        "groupsExpired": [
          {
            "publicId": "a1b2c3d4-1111-2222-3333-444455556666",
            "type": "SOLO",
            "creator": "Martin Dupont",
            "timeWindowEnd": "2025-12-15T14:30:00Z",
            "reason": "timeWindowEnd (14:30) < executionTime (15:00)"
          }
        ]
      },
      {
        "name": "BUCKET_GENERATION",
        "durationMs": 8,
        "anchoredBuckets": 1,
        "virtualBuckets": 6,
        "buckets": [
          {
            "id": "bucket-001",
            "club": "Padel Club Bordeaux",
            "clubPublicId": "aa9e6b8f-573f-4be1-98a3-b749a47642fe",
            "start": "2025-12-15T16:00:00Z",
            "durationMinutes": 90,
            "anchor": true,
            "reservedBy": {
              "groupPublicId": "b2c3d4e5-2222-3333-4444-555566667777",
              "creator": "Alice Martin",
              "courtId": "court-3"
            }
          },
          {
            "id": "bucket-002",
            "club": "Padel Club Bordeaux",
            "clubPublicId": "aa9e6b8f-573f-4be1-98a3-b749a47642fe",
            "start": "2025-12-15T15:00:00Z",
            "durationMinutes": 90,
            "anchor": false,
            "reservedBy": null
          },
          {
            "id": "bucket-003",
            "club": "Padel Club Bordeaux",
            "clubPublicId": "aa9e6b8f-573f-4be1-98a3-b749a47642fe",
            "start": "2025-12-15T15:30:00Z",
            "durationMinutes": 90,
            "anchor": false,
            "reservedBy": null
          },
          {
            "id": "bucket-004",
            "club": "Urban Padel Mérignac",
            "clubPublicId": "cc1e2f3a-789b-4cde-9012-3456789abcde",
            "start": "2025-12-15T15:00:00Z",
            "durationMinutes": 90,
            "anchor": false,
            "reservedBy": null
          },
          {
            "id": "bucket-005",
            "club": "Urban Padel Mérignac",
            "clubPublicId": "cc1e2f3a-789b-4cde-9012-3456789abcde",
            "start": "2025-12-15T15:30:00Z",
            "durationMinutes": 90,
            "anchor": false,
            "reservedBy": null
          },
          {
            "id": "bucket-006",
            "club": "Urban Padel Mérignac",
            "clubPublicId": "cc1e2f3a-789b-4cde-9012-3456789abcde",
            "start": "2025-12-15T16:00:00Z",
            "durationMinutes": 90,
            "anchor": false,
            "reservedBy": null
          },
          {
            "id": "bucket-007",
            "club": "Padel Club Bordeaux",
            "clubPublicId": "aa9e6b8f-573f-4be1-98a3-b749a47642fe",
            "start": "2025-12-15T16:00:00Z",
            "durationMinutes": 90,
            "anchor": false,
            "reservedBy": null
          }
        ]
      },
      {
        "name": "BUCKET_ENRICHMENT",
        "durationMs": 15,
        "totalBuckets": 7,
        "bucketsWithEnoughPlayers": 3,
        "bucketsFiltered": 4,
        "details": [
          {
            "bucketId": "bucket-001",
            "club": "Padel Club Bordeaux",
            "start": "2025-12-15T16:00:00Z",
            "anchor": true,
            "eligibleGroups": [
              {
                "publicId": "b2c3d4e5-2222-3333-4444-555566667777",
                "type": "PAIR_COOP_HETERO",
                "players": [
                  { "name": "Alice Martin", "pmr": 4.2 },
                  { "name": "Bob Durand", "pmr": 4.5 }
                ]
              },
              {
                "publicId": "c3d4e5f6-3333-4444-5555-666677778888",
                "type": "SOLO",
                "players": [
                  { "name": "Charlie Petit", "pmr": 4.3 }
                ]
              },
              {
                "publicId": "d4e5f6a7-4444-5555-6666-777788889999",
                "type": "SOLO",
                "players": [
                  { "name": "Diana Moreau", "pmr": 4.1 }
                ]
              }
            ],
            "playerCount": 4,
            "kept": true,
            "reason": "4 joueurs >= 4 requis"
          },
          {
            "bucketId": "bucket-002",
            "club": "Padel Club Bordeaux",
            "start": "2025-12-15T15:00:00Z",
            "anchor": false,
            "eligibleGroups": [
              {
                "publicId": "e5f6a7b8-5555-6666-7777-888899990000",
                "type": "PAIR_COOP_HOMO",
                "players": [
                  { "name": "Emma Bernard", "pmr": 3.8 },
                  { "name": "François Leroy", "pmr": 3.5 }
                ]
              },
              {
                "publicId": "f6a7b8c9-6666-7777-8888-999900001111",
                "type": "SOLO",
                "players": [
                  { "name": "Gabriel Roux", "pmr": 3.6 }
                ]
              },
              {
                "publicId": "a7b8c9d0-7777-8888-9999-000011112222",
                "type": "SOLO",
                "players": [
                  { "name": "Hélène Blanc", "pmr": 3.9 }
                ]
              }
            ],
            "playerCount": 4,
            "kept": true,
            "reason": "4 joueurs >= 4 requis"
          },
          {
            "bucketId": "bucket-003",
            "club": "Padel Club Bordeaux",
            "start": "2025-12-15T15:30:00Z",
            "anchor": false,
            "eligibleGroups": [
              {
                "publicId": "f6a7b8c9-6666-7777-8888-999900001111",
                "type": "SOLO",
                "players": [
                  { "name": "Gabriel Roux", "pmr": 3.6 }
                ]
              }
            ],
            "playerCount": 1,
            "kept": false,
            "reason": "1 joueur < 4 requis"
          },
          {
            "bucketId": "bucket-004",
            "club": "Urban Padel Mérignac",
            "start": "2025-12-15T15:00:00Z",
            "anchor": false,
            "eligibleGroups": [
              {
                "publicId": "b8c9d0e1-8888-9999-0000-111122223333",
                "type": "SOLO",
                "players": [
                  { "name": "Igor Faure", "pmr": 5.2 }
                ]
              }
            ],
            "playerCount": 1,
            "kept": false,
            "reason": "1 joueur < 4 requis"
          },
          {
            "bucketId": "bucket-005",
            "club": "Urban Padel Mérignac",
            "start": "2025-12-15T15:30:00Z",
            "anchor": false,
            "eligibleGroups": [],
            "playerCount": 0,
            "kept": false,
            "reason": "0 joueur < 4 requis"
          },
          {
            "bucketId": "bucket-006",
            "club": "Urban Padel Mérignac",
            "start": "2025-12-15T16:00:00Z",
            "anchor": false,
            "eligibleGroups": [
              {
                "publicId": "b8c9d0e1-8888-9999-0000-111122223333",
                "type": "SOLO",
                "players": [
                  { "name": "Igor Faure", "pmr": 5.2 }
                ]
              }
            ],
            "playerCount": 1,
            "kept": false,
            "reason": "1 joueur < 4 requis"
          },
          {
            "bucketId": "bucket-007",
            "club": "Padel Club Bordeaux",
            "start": "2025-12-15T16:00:00Z",
            "anchor": false,
            "eligibleGroups": [
              {
                "publicId": "c3d4e5f6-3333-4444-5555-666677778888",
                "type": "SOLO",
                "players": [
                  { "name": "Charlie Petit", "pmr": 4.3 }
                ]
              },
              {
                "publicId": "d4e5f6a7-4444-5555-6666-777788889999",
                "type": "SOLO",
                "players": [
                  { "name": "Diana Moreau", "pmr": 4.1 }
                ]
              }
            ],
            "playerCount": 2,
            "kept": false,
            "reason": "2 joueurs < 4 requis (bucket virtuel dupliqué avec bucket ancré 001)"
          }
        ]
      },
      {
        "name": "HETERO_MATCHING",
        "durationMs": 45,
        "bucketsProcessed": 1,
        "candidatesGenerated": 2,
        "matchesSelected": 1,
        "details": [
          {
            "bucketId": "bucket-001",
            "club": "Padel Club Bordeaux",
            "start": "2025-12-15T16:00:00Z",
            "anchor": true,
            "processingLog": [
              {
                "step": "Processing PAIR_COOP_HETERO group",
                "group": {
                  "publicId": "b2c3d4e5-2222-3333-4444-555566667777",
                  "players": ["Alice Martin (4.2)", "Bob Durand (4.5)"],
                  "teammateTol": 1.5
                }
              },
              {
                "step": "Searching for opposing pair or 2 solos",
                "solosAvailable": [
                  { "name": "Charlie Petit", "pmr": 4.3, "teammateTol": 1.0 },
                  { "name": "Diana Moreau", "pmr": 4.1, "teammateTol": 1.2 }
                ]
              },
              {
                "step": "Checking solo combination",
                "combination": ["Charlie Petit", "Diana Moreau"],
                "checks": {
                  "charlieNearAlice": { "gap": 0.1, "maxAllowed": 1.5, "pass": true },
                  "dianaNearBob": { "gap": 0.4, "maxAllowed": 1.5, "pass": true },
                  "mutualTolerance": { "gap": 0.2, "charlieMax": 1.0, "dianaMax": 1.2, "pass": true },
                  "laterality": { "charlie": "RIGHT", "diana": "LEFT", "valid": true }
                }
              }
            ],
            "candidates": [
              {
                "id": "candidate-001",
                "team1": [
                  { "name": "Alice Martin", "pmr": 4.2, "position": "LEFT" },
                  { "name": "Bob Durand", "pmr": 4.5, "position": "RIGHT" }
                ],
                "team2": [
                  { "name": "Charlie Petit", "pmr": 4.3, "position": "RIGHT" },
                  { "name": "Diana Moreau", "pmr": 4.1, "position": "LEFT" }
                ],
                "avgTeam1": 4.35,
                "avgTeam2": 4.2,
                "quality": 0.15,
                "score": 145,
                "selected": true,
                "sourceGroups": [
                  "b2c3d4e5-2222-3333-4444-555566667777",
                  "c3d4e5f6-3333-4444-5555-666677778888",
                  "d4e5f6a7-4444-5555-6666-777788889999"
                ]
              }
            ],
            "rejections": []
          }
        ]
      },
      {
        "name": "HOMO_MATCHING_ANCHORED",
        "durationMs": 5,
        "bucketsProcessed": 0,
        "candidatesGenerated": 0,
        "matchesSelected": 0,
        "details": [],
        "note": "Aucun bucket ancré restant après phase HETERO"
      },
      {
        "name": "HOMO_MATCHING_VIRTUAL",
        "durationMs": 65,
        "bucketsProcessed": 1,
        "candidatesGenerated": 3,
        "matchesSelected": 0,
        "details": [
          {
            "bucketId": "bucket-002",
            "club": "Padel Club Bordeaux",
            "start": "2025-12-15T15:00:00Z",
            "anchor": false,
            "processingLog": [
              {
                "step": "Processing PAIR_COOP_HOMO group",
                "group": {
                  "publicId": "e5f6a7b8-5555-6666-7777-888899990000",
                  "players": ["Emma Bernard (3.8)", "François Leroy (3.5)"],
                  "avgPmr": 3.65
                }
              },
              {
                "step": "Searching composable pairs from solos",
                "solosAvailable": [
                  { "name": "Gabriel Roux", "pmr": 3.6, "teammateTol": 1.0 },
                  { "name": "Hélène Blanc", "pmr": 3.9, "teammateTol": 0.8 }
                ]
              },
              {
                "step": "Checking solo combination for opposing pair",
                "combination": ["Gabriel Roux", "Hélène Blanc"],
                "checks": {
                  "mutualTolerance": { "gap": 0.3, "gabrielMax": 1.0, "heleneMax": 0.8, "pass": true },
                  "laterality": { "gabriel": "RIGHT", "helene": "RIGHT", "valid": false, "reason": "Deux droitiers" }
                },
                "result": "REJECTED - laterality invalid"
              }
            ],
            "candidates": [
              {
                "id": "candidate-002",
                "team1": [
                  { "name": "Emma Bernard", "pmr": 3.8, "position": "LEFT" },
                  { "name": "François Leroy", "pmr": 3.5, "position": "RIGHT" }
                ],
                "team2": [
                  { "name": "Gabriel Roux", "pmr": 3.6, "position": "RIGHT" },
                  { "name": "Hélène Blanc", "pmr": 3.9, "position": "RIGHT" }
                ],
                "avgTeam1": 3.65,
                "avgTeam2": 3.75,
                "quality": 0.1,
                "score": 120,
                "selected": false,
                "rejectionReason": "Laterality invalid for team2 (both RIGHT)",
                "sourceGroups": [
                  "e5f6a7b8-5555-6666-7777-888899990000",
                  "f6a7b8c9-6666-7777-8888-999900001111",
                  "a7b8c9d0-7777-8888-9999-000011112222"
                ]
              }
            ],
            "rejections": [
              {
                "reason": "Laterality invalid",
                "details": "Gabriel Roux (RIGHT) + Hélène Blanc (RIGHT) ne peuvent pas former une paire",
                "groupsAffected": [
                  "f6a7b8c9-6666-7777-8888-999900001111",
                  "a7b8c9d0-7777-8888-9999-000011112222"
                ]
              }
            ]
          }
        ],
        "note": "Candidats générés mais pas encore sélectionnés (attente phase SLOT_VALIDATION)"
      },
      {
        "name": "SLOT_VALIDATION",
        "durationMs": 523,
        "matchesToValidate": 1,
        "details": [
          {
            "candidateId": "candidate-001",
            "bucket": {
              "club": "Padel Club Bordeaux",
              "start": "2025-12-15T16:00:00Z",
              "durationMinutes": 90
            },
            "isAnchored": true,
            "skipValidation": true,
            "reason": "Bucket ancré - réservation déjà existante",
            "compatibleSlots": [
              {
                "courtId": "court-3",
                "club": "Padel Club Bordeaux",
                "start": "2025-12-15T16:00:00Z",
                "end": "2025-12-15T17:30:00Z",
                "source": "EXISTING_RESERVATION"
              }
            ]
          }
        ],
        "summary": {
          "matchesWithSlots": 1,
          "matchesWithoutSlots": 0
        }
      },
      {
        "name": "FINAL_SELECTION",
        "durationMs": 12,
        "inputCandidates": {
          "heteroAnchored": 1,
          "heteroVirtual": 0,
          "homoAnchored": 0,
          "homoVirtual": 0,
          "quatuor": 0
        },
        "selectionProcess": [
          {
            "step": "6a. Hetero anchored",
            "action": "Keep all",
            "count": 1
          },
          {
            "step": "6b. Homo anchored",
            "action": "Keep all",
            "count": 0
          },
          {
            "step": "6c. Hetero virtual with slots",
            "action": "Keep all",
            "count": 0
          },
          {
            "step": "6d. Homo virtual - selectWithMaxCoverage()",
            "action": "Greedy selection",
            "inputCount": 0,
            "selectedCount": 0,
            "note": "No valid homo virtual candidates (all rejected for laterality)"
          },
          {
            "step": "6e. Quatuor with slots",
            "action": "Keep all",
            "count": 0
          }
        ],
        "finalMatches": [
          {
            "matchPublicId": "m1a2b3c4-aaaa-bbbb-cccc-ddddeeeefffff",
            "team1": [
              { "name": "Alice Martin", "pmr": 4.2, "position": "LEFT", "groupPublicId": "b2c3d4e5-2222-3333-4444-555566667777" },
              { "name": "Bob Durand", "pmr": 4.5, "position": "RIGHT", "groupPublicId": "b2c3d4e5-2222-3333-4444-555566667777" }
            ],
            "team2": [
              { "name": "Charlie Petit", "pmr": 4.3, "position": "RIGHT", "groupPublicId": "c3d4e5f6-3333-4444-5555-666677778888" },
              { "name": "Diana Moreau", "pmr": 4.1, "position": "LEFT", "groupPublicId": "d4e5f6a7-4444-5555-6666-777788889999" }
            ],
            "avgTeam1": 4.35,
            "avgTeam2": 4.2,
            "quality": 0.15,
            "score": 145,
            "club": "Padel Club Bordeaux",
            "slot": {
              "start": "2025-12-15T16:00:00Z",
              "end": "2025-12-15T17:30:00Z",
              "courtId": "court-3"
            },
            "captain": "Alice Martin",
            "status": "PENDING_CAPTAIN_CHOICE",
            "sourceGroups": [
              {
                "publicId": "b2c3d4e5-2222-3333-4444-555566667777",
                "type": "PAIR_COOP_HETERO",
                "previousStatus": "ACTIVE",
                "newStatus": "PENDING_CAPTAIN_CHOICE"
              },
              {
                "publicId": "c3d4e5f6-3333-4444-5555-666677778888",
                "type": "SOLO",
                "previousStatus": "ACTIVE",
                "newStatus": "PENDING_CAPTAIN_CHOICE"
              },
              {
                "publicId": "d4e5f6a7-4444-5555-6666-777788889999",
                "type": "SOLO",
                "previousStatus": "ACTIVE",
                "newStatus": "PENDING_CAPTAIN_CHOICE"
              }
            ]
          }
        ]
      }
    ],
    "unmatchedGroups": [
      {
        "publicId": "e5f6a7b8-5555-6666-7777-888899990000",
        "type": "PAIR_COOP_HOMO",
        "players": [
          { "name": "Emma Bernard", "pmr": 3.8 },
          { "name": "François Leroy", "pmr": 3.5 }
        ],
        "timeWindow": {
          "start": "2025-12-15T15:00:00Z",
          "end": "2025-12-15T18:00:00Z"
        },
        "clubs": ["Padel Club Bordeaux"],
        "reason": "Aucune paire adverse valide trouvée (problème de latéralité avec les solos disponibles)"
      },
      {
        "publicId": "f6a7b8c9-6666-7777-8888-999900001111",
        "type": "SOLO",
        "players": [
          { "name": "Gabriel Roux", "pmr": 3.6 }
        ],
        "timeWindow": {
          "start": "2025-12-15T15:00:00Z",
          "end": "2025-12-15T17:00:00Z"
        },
        "clubs": ["Padel Club Bordeaux"],
        "reason": "Latéralité incompatible avec Hélène Blanc (tous deux droitiers)"
      },
      {
        "publicId": "a7b8c9d0-7777-8888-9999-000011112222",
        "type": "SOLO",
        "players": [
          { "name": "Hélène Blanc", "pmr": 3.9 }
        ],
        "timeWindow": {
          "start": "2025-12-15T14:30:00Z",
          "end": "2025-12-15T17:00:00Z"
        },
        "clubs": ["Padel Club Bordeaux"],
        "reason": "Latéralité incompatible avec Gabriel Roux (tous deux droitiers)"
      },
      {
        "publicId": "b8c9d0e1-8888-9999-0000-111122223333",
        "type": "SOLO",
        "players": [
          { "name": "Igor Faure", "pmr": 5.2 }
        ],
        "timeWindow": {
          "start": "2025-12-15T15:00:00Z",
          "end": "2025-12-15T18:00:00Z"
        },
        "clubs": ["Urban Padel Mérignac"],
        "reason": "Aucun bucket avec assez de joueurs (seul joueur sur ce club à cet horaire)"
      }
    ]
  }